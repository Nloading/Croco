<div class="users-container">
  <h2>Users</h2>

  <!-- Search Input -->
  <input
    type="text"
    placeholder="Search by name, username or email"
    [(ngModel)]="searchTerm"
    (input)="search()"
  />

  <!-- Users Table -->
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Username</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Company</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (user of filteredUsers(); track user.id) {
        <tr>
          <td>{{ user.name }}</td>
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.phone }}</td>
          <td>{{ user.company.name }}</td>
          <td>
            <!-- Posts button -->
            <button class="posts-btn" routerLink="/posts" [queryParams]="{ userId: user.id }">
              Posts
            </button>

            <!-- Todos button -->
            <!-- Todos button using route parameter -->
<button [routerLink]="['/todos', user.id]" class="todos-btn">Todos</button>
          </td>
        </tr>
      }
      @empty {
        <tr>
          <td colspan="6">No users found.</td>
        </tr>
      }
    </tbody>
  </table>
</div>
